<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>DOS Bootscreen</title>
<style>
html, body {
margin-left: 20px; height: 100%; background: black; color: #5f5;
font-family: 'Perfect DOS VGA 437 Win', monospace;
white-space: pre; font-size: 16px;
}
#ladebalken {
margin-top: 2em;
}
 #os-info {
  display: none;
  margin-bottom: 0.8em;
} 
</style>
<link href="https://fonts.cdnfonts.com/css/perfect-dos-vga-437" rel="stylesheet" />
  <link href="https://fonts.cdnfonts.com/css/ibm-plex-mono" rel="stylesheet" />

</head>
<body>
<div id="bootscreen-text"></div>
<p id="os-info">OS wird gestartet</p>
<div id="ladebalken"></div>
  
<script>
const lines = [
"8086-BIOS",
 "(C) Heckmann 1986",
 "Keyboard error",
 "CMOS systemn options not set",
 "CMOS checksum failure",
 "FDD controller failure",
 "8086-BIOS",
];

let idx = 0;
const bootscreenText = document.getElementById('bootscreen-text');
const ladebalken = document.getElementById('ladebalken');

function showNextLine() {
if (idx < lines.length) {
bootscreenText.textContent += lines[idx] + "\n";
idx++;
setTimeout(showNextLine, 500 + Math.random()*700); // unregelmäßige Abstände
} else {
startMemoryCount();
}
}

function startMemoryCount() {
// Hochzählen 1K bis 640K Base Memory
let baseMem = 1;
bootscreenText.textContent += "Memory: 1KB OK\n";
let baseInterval = setInterval(() => {
baseMem++;
bootscreenText.textContent = bootscreenText.textContent.replace(/Memory: \d+KB OK/, "Memory: "+baseMem+"KB OK");
if (baseMem >= 640) {
clearInterval(baseInterval);
startLoadingBar();
}
}, 5);
}

function startLoadingBar() {
    // Zeige den OS-Info-Text an
  osInfo.style.display = "block";
  osInfo.textContent = "OS wird gestartet";
let count = 0;
const max = 20;
const interval = setInterval(() => {
const blocks = '▒'.repeat(count) + ' '.repeat(max - count);
ladebalken.textContent = '[' + blocks + ']';
count++;
if (count > max) {
clearInterval(interval);
// Nach Bootscreen: Weiterleitung auf Index
          window.location.href = "index.html";
          window.location.href = "os.html";
}
}, 150);
}

showNextLine();
</script>
</body>
</html>
